@model IEnumerable<Trisatech.KampDigi.Application.Models.PostModel>
@using Trisatech.KampDigi.Domain.Entities

@{
	ViewData["Title"] = "Forum";
	ViewData["Menu"] = "Welcome";
	int i = 0;
	Layout = "_BaseTemplate";
}
<!--begin::Container-->
<div id="kt_content_container" class="d-flex flex-column-fluid align-items-start container">
	<!--begin::Post-->
	<div class="content flex-row-fluid" id="kt_content">
		<!--begin::Row-->
		<div class="row g-5 g-xl-8">
			<!--begin::Col-->
			<div class="col-xl-6">
				<!--begin::Feeds Widget 1-->
				<div class="card mb-5 mb-xl-8">
					<!--begin::Body-->
					<div class="card-body pb-0">
						
						<!--begin::Form-->
						<form id="kt_forms_widget_1_form" class="ql-quil ql-quil-plain pb-3" asp-action="Create"
							method="post" enctype="multipart/form-data">
							<div asp-validation-summary="ModelOnly" class="text-danger"></div>
							<!--begin::Header-->
						<div class="d-flex align-items-center">
							<!--begin::User-->
							<div class="d-flex align-items-center flex-grow-1">
								<!--begin::Avatar-->
								<div class="symbol symbol-45px me-5">
									<img src="~/images/avatar.jpg" alt="" />
								</div>
								<!--end::Avatar-->
								<!--begin::Info-->
								<div class="d-flex flex-column">
									<a href="#" class="text-gray-800 text-hover-primary fs-6 fw-bolder">Grace Green</a>
									<span class="text-gray-400 fw-bold">PHP, SQLite, Artisan CLI</span>
								</div>
								<!--end::Info-->
							</div>
							<!--end::User-->
							<div class="my-0">
								<select name="type" id="">
									<option
									value="@Trisatech.KampDigi.Domain.Entities.PostType.Announcement">Informasi</option>
									<option value="@Trisatech.KampDigi.Domain.Entities.PostType.Forum">Forum</option>
									<option value="@Trisatech.KampDigi.Domain.Entities.PostType.Public">Publik</option>
									<option value="@Trisatech.KampDigi.Domain.Entities.PostType.Report">Lapor</option>
								</select>

							</div>
						</div>
						<!--end::Header-->
							
							<div class="form-group">
								<label name="PostSubject" for="exampleInput1"></label>
								<input class="form-control" id="exampleInput1" placeholder="PostSubject"
									name="PostSubject" required>
							</div>
							<div class="form-group">
								<label name="Title" for="exampleInput2"></label>
								<input class="form-control" id="exampleInput2" placeholder="Title" name="Title"
									required>
							</div>
							<div class="form-group">
								<label name="ImageFile" class="control-label"></label>
								<input name="ImageFile" type="file" class="form-control" />
							</div>
							<!--begin::Editor-->
							<textarea id="kt_forms_widget_1_editor" name="Desc"></textarea>
							@* <div id="kt_forms_widget_1_editor" class="py-6" name="Desc"></div> *@
							<!--end::Editor-->
							<div class="separator"></div>
							<!--begin::Toolbar-->
							<div id="kt_forms_widget_1_editor_toolbar" class="ql-toolbar d-flex flex-stack py-2">
								<div class="me-2">
									<span class="ql-formats ql-size ms-0">
										<select class="ql-size w-75px"></select>
									</span>
									<span class="ql-formats">
										<button class="ql-bold"></button>
										<button class="ql-italic"></button>
										<button class="ql-underline"></button>
										<button class="ql-strike"></button>
										<button class="ql-link"></button>
										<button class="ql-clean"></button>
									</span>
								</div>
								<div class="me-n3">
									<span class="btn btn-icon btn-sm btn-active-color-primary">
										<i class="flaticon2-clip-symbol icon-ms"></i>
									</span>
									<span class="btn btn-icon btn-sm btn-active-color-primary">
										<i class="flaticon2-pin icon-ms"></i>
									</span>
								</div>
								@* Button create thread *@
								<button type="submit" class="my-0">
									<!--begin::Svg Icon | path: assets/media/icons/duotone/Communication/Send.svg-->
									<span class="svg-icon svg-icon-muted svg-icon-2hx"><svg
											xmlns="http://www.w3.org/2000/svg" width="24px" height="24px"
											viewBox="0 0 24 24" version="1.1">
											<path
												d="M3,13.5 L19,12 L3,10.5 L3,3.7732928 C3,3.70255344 3.01501031,3.63261921 3.04403925,3.56811047 C3.15735832,3.3162903 3.45336217,3.20401298 3.70518234,3.31733205 L21.9867539,11.5440392 C22.098181,11.5941815 22.1873901,11.6833905 22.2375323,11.7948177 C22.3508514,12.0466378 22.2385741,12.3426417 21.9867539,12.4559608 L3.70518234,20.6826679 C3.64067359,20.7116969 3.57073936,20.7267072 3.5,20.7267072 C3.22385763,20.7267072 3,20.5028496 3,20.2267072 L3,13.5 Z"
												fill="#000000" />
										</svg></span>
									<!--end::Svg Icon-->
								</button>
							</div>
							<!--end::Toolbar-->
						</form>
						<!--end::Form-->
					</div>
					<!--end::Body-->
				</div>
				<!--end::Feeds Widget 1-->
			</div>
			<!--end::Col-->
			<!--begin::Col-->
			<div class="col-xl-6">
				<!--begin::Feeds Widget 5-->
				@if (Model != null && Model.Any())
				{
					foreach (var item in Model)
					{
						<div class="card mb-5 mb-xl-8">

							<!--begin::Body-->
					<div class="card-body pb-0">
								<!--begin::Header-->
						<div class="d-flex align-items-center mb-5">
									<!--begin::User-->
							<div class="d-flex align-items-center flex-grow-1">
										<!--begin::Avatar-->
								<div class="symbol symbol-45px me-5">
											<img src="~/images/avatar.jpg" alt="" />
										</div>
										<!--end::Avatar-->
										<!--begin::Info-->
								<div class="d-flex flex-column">
											<a href="#" class="text-gray-800 text-hover-primary fs-6 fw-bolder">Sam Logan</a>
											<span class="text-gray-400 fw-bold">@item.PostSubject

												@if (item.UpdatedDate != null)
												{
													<p>Update : @item.UpdatedDate</p>
												}
												else
												{
													<p>Create : @item.CreatedDate</p>
												}
											</span>
										</div>
										<!--end::Info-->
							</div>
									<!--end::User-->
									<!--begin::Menu-->
							<div class="my-0">
								@* @if (Model != null && Model.Any())
								{
												@foreach (var item in Model.Post)
									{
												@switch (item.PostType){
													case PostType.Report:
														<div class="badge badge-light fw-bolder">Report</div>
													break;
													case PostType.Forum:
														<div class="badge badge-light fw-bolder">Forum</div>
													break;
													case PostType.Announcement:
														<div class="badge badge-light fw-bolder">Announcement</div>
													break;
													case PostType.Public:
														<div class="badge badge-light fw-bolder">Public</div>
													break;
												}
									}
								} *@
								<div class="badge badge-light fw-bolder">@item.Type</div>
										<button type="button"
									class="btn btn-sm btn-icon btn-color-primary btn-active-light-primary"
									data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end"
									data-kt-menu-flip="top-end">
											<!--begin::Svg Icon | path: icons/duotone/Layout/Layout-4-blocks-2.svg-->
									<span class="svg-icon svg-icon-2">
												<svg xmlns="http://www.w3.org/2000/svg"
											xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
											viewBox="0 0 24 24" version="1.1">
													<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
														<rect x="5" y="5" width="5" height="5" rx="1" fill="#000000" />
														<rect x="14" y="5" width="5" height="5" rx="1" fill="#000000"
													opacity="0.3" />
														<rect x="5" y="14" width="5" height="5" rx="1" fill="#000000"
													opacity="0.3" />
														<rect x="14" y="14" width="5" height="5" rx="1" fill="#000000"
													opacity="0.3" />
													</g>
												</svg>
											</span>
											<!--end::Svg Icon-->
								</button>
										<!--begin::Menu 2-->
								<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px"
									data-kt-menu="true">
											<!--begin::Menu separator-->
									<div class="separator mt-3 opacity-75"></div>
											<!--end::Menu separator-->
											<!--begin::Menu item-->
									<div class="menu-item px-3">
												<div class="menu-content px-3 py-3">
													@* <a class="btn btn-success btn-sm px-4" asp-action="Edit"
												asp-route-id="@item.Id" class="menu-link px-3" data-bs-toggle="modal"
												data-bs-target="#kt_modal_add_user">Edit</a> *@
												<a class="btn btn-success btn-sm px-4" asp-action="Edit"
												asp-route-id="@item.Id" class="menu-link px-3">Edit</a>
												</div>
												<!--begin::Menu separator-->
										<div class="separator mt-3 opacity-75"></div>
												<!--end::Menu separator-->
										<div class="menu-content px-3 py-3">
													<a asp-action="Delete" asp-route-id="@item.Id"
												class="btn btn-danger btn-sm px-4">Delete Thread</a>
												</div>
											</div>
											<!--end::Menu item-->
								</div>
										<!--end::Menu 2-->
							</div>
									<!--end::Menu-->
						</div>
								<!--end::Header-->
								<!--begin::Modal - Edit Thread-->
						<div class="modal fade" id="kt_modal_add_user" tabindex="-1" aria-hidden="true">
									<!--begin::Modal dialog-->
							<div class="modal-dialog modal-dialog-centered mw-650px">
										<!--begin::Modal content-->
								<div class="modal-content">
											<!--begin::Modal header-->
									<div class="modal-header" id="kt_modal_add_user_header">
												<!--begin::Modal title-->
										<h2 class="fw-bolder">Edit Thread</h2>
												<!--end::Modal title-->
												<!--begin::Close-->
										<div class="btn btn-icon btn-sm btn-active-icon-primary"
											data-kt-users-modal-action="close">
													<!--begin::Svg Icon | path: icons/duotone/Navigation/Close.svg-->
											<span class="svg-icon svg-icon-1">
														<svg xmlns="http://www.w3.org/2000/svg"
													xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
													height="24px" viewBox="0 0 24 24" version="1.1">
															<g transform="translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"
														fill="#000000">
																<rect fill="#000000" x="0" y="7" width="16" height="2" rx="1" />
																<rect fill="#000000" opacity="0.5"
															transform="translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000)"
															x="0" y="7" width="16" height="2" rx="1" />
															</g>
														</svg>
													</span>
													<!--end::Svg Icon-->
										</div>
												<!--end::Close-->
									</div>
											<!--end::Modal header-->
											<!--begin::Modal body-->
									<div class="modal-body scroll-y mx-5 mx-xl-15 my-7">
												<!--begin::Form-->

										<form class="form" asp-action="Edit" method="post" asp-route-id="@item.Id"
											enctype="multipart/form-data">
													<div asp-validation-summary="ModelOnly" class="text-danger"></div>
													<input asp-for="@item.Id" type="hidden" class="form-control">
													<!--begin::Scroll-->
											<div class="d-flex flex-column scroll-y me-n7 pe-7"
												id="kt_modal_add_user_scroll" data-kt-scroll="true"
												data-kt-scroll-activate="{default: false, lg: true}"
												data-kt-scroll-max-height="auto"
												data-kt-scroll-dependencies="#kt_modal_add_user_header"
												data-kt-scroll-wrappers="#kt_modal_add_user_scroll"
												data-kt-scroll-offset="300px">
														<!--begin::Input group-->
												<div class="fv-row mb-7">
															<!--begin::Label-->
													<label class="d-block fw-bold fs-6 mb-5">Edit Thread</label>
															<!--end::Label-->
															<!--begin::Image input-->
													<div class="image-input image-input-outline"
														data-kt-image-input="true"
														style="background-image: url(~/assets/media/avatars/blank.png)">
																<!--begin::Preview existing avatar-->
																@* <div class="image-input-wrapper w-125px h-125px"
																	asp-for="ImageFile" type="file"></div>
																	<span asp-validation-for="ImageFile" class="text-danger"></span>
																*@
																<img src="@item.ImageSrc" alt="" class="w-33 h-33">
																<!--end::Preview existing avatar-->
																<!--begin::Label-->
														<label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-white shadow" data-kt-image-input-action="change" data-bs-toggle="tooltip" title="Change avatar">
																	<i class="bi bi-pencil-fill fs-7"></i>
																	<!--begin::Inputs-->
															<input type="file" name="avatar"
																accept=".png, .jpg, .jpeg" />
																	<input type="hidden" name="avatar_remove" />
																	<!--end::Inputs-->
														</label>
																<!--end::Label-->
																<!--begin::Cancel-->
														<span
															class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-white shadow"
															data-kt-image-input-action="cancel" data-bs-toggle="tooltip"
															title="Cancel avatar">
																	<i class="bi bi-x fs-2"></i>
																</span>
																<!--end::Cancel-->
																<!--begin::Remove-->
														<span
															class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-white shadow"
															data-kt-image-input-action="remove" data-bs-toggle="tooltip"
															title="Remove avatar">
																	<i class="bi bi-x fs-2"></i>
																</span>
																<!--end::Remove-->
													</div>
															<!--end::Image input-->
															<!--begin::Hint-->
													<div class="form-text">Allowed file types: png, jpg, jpeg.</div>
															<!--end::Hint-->
												</div>
														<!--end::Input group-->
														<!--begin::Input group-->
												<div class="fv-row mb-7">
															<!--begin::Label-->
													<label class="required fw-bold fs-6 mb-2">Title</label>
															<!--end::Label-->
															<!--begin::Input-->
													<input name="Title"
														class="form-control form-control-solid mb-3 mb-lg-0"
														value="@item.Title" />
															<!--end::Input-->
												</div>
														<!--end::Input group-->
														<!--begin::Input group-->
												<div class="fv-row mb-7">
															<!--begin::Label-->
													<label class="required fw-bold fs-6 mb-2">Subject Post</label>
															<!--end::Label-->
															<!--begin::Input-->
													<input type="text" name="PostSubject" class="form-control
																form-control-solid mb-3 mb-lg-0" value='@item.PostSubject' />
															<!--end::Input-->
												</div>
														<!--end::Input group-->
											</div>
													<!--end::Scroll-->
													<!--begin::Actions-->
											<div class="text-center pt-15">
														<button type="reset" class="btn btn-white me-3"
													data-kt-users-modal-action="cancel">Discard</button>
														<button type="submit" class="btn btn-primary">
															<span class="indicator-label">Edit</span>
															<span class="indicator-progress">Please wait...
																<span
															class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
														</button>
													</div>
													<!--end::Actions-->
										</form>

												<!--end::Form-->
									</div>
											<!--end::Modal body-->
								</div>
										<!--end::Modal content-->
							</div>
									<!--end::Modal dialog-->
						</div>
								<!--end::Modal - Edit Thread-->

								<!--begin::Post-->
						<div class="mb-5">
									<!--begin::Image-->
							<div class="bgi-no-repeat bgi-size-cover rounded min-h-200px mb-5"> <img
									src="@item.ImageSrc" width="450px"> </div>
									<!--end::Image-->
							<p class="text-gray-800 text-hover-primary fs-6 fw-bolder">@item.Title</p>
									<!--begin::Text-->
							<div class="text-gray-800 mb-5">@item.Desc</div>
									<!--end::Text-->


								<!--begin::Separator-->
									<div class="separator mb-4"></div>
								<!--end::Separator-->
									<!--begin::Toolbar-->
							<div class="d-flex align-items-center mb-5">
										<a asp-controller="Comment" asp-action="Index" asp-route-id="@item.Id">
											<button type="submit"
										class="btn btn-sm btn-light btn-color-muted btn-active-light-success px-4 py-2 me-4">
												<!--begin::Svg Icon | path: icons/duotone/Communication/Group-chat.svg-->
										<span class="svg-icon svg-icon-3">
													<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px"
												viewBox="0 0 24 24" version="1.1">
														<path
													d="M16,15.6315789 L16,12 C16,10.3431458 14.6568542,9 13,9 L6.16183229,9 L6.16183229,5.52631579 C6.16183229,4.13107011 7.29290239,3 8.68814808,3 L20.4776218,3 C21.8728674,3 23.0039375,4.13107011 23.0039375,5.52631579 L23.0039375,13.1052632 L23.0206157,17.786793 C23.0215995,18.0629336 22.7985408,18.2875874 22.5224001,18.2885711 C22.3891754,18.2890457 22.2612702,18.2363324 22.1670655,18.1421277 L19.6565168,15.6315789 L16,15.6315789 Z"
													fill="#000000" />
														<path
													d="M1.98505595,18 L1.98505595,13 C1.98505595,11.8954305 2.88048645,11 3.98505595,11 L11.9850559,11 C13.0896254,11 13.9850559,11.8954305 13.9850559,13 L13.9850559,18 C13.9850559,19.1045695 13.0896254,20 11.9850559,20 L4.10078614,20 L2.85693427,21.1905292 C2.65744295,21.3814685 2.34093638,21.3745358 2.14999706,21.1750444 C2.06092565,21.0819836 2.01120804,20.958136 2.01120804,20.8293182 L2.01120804,18.32426 C1.99400175,18.2187196 1.98505595,18.1104045 1.98505595,18 Z M6.5,14 C6.22385763,14 6,14.2238576 6,14.5 C6,14.7761424 6.22385763,15 6.5,15 L11.5,15 C11.7761424,15 12,14.7761424 12,14.5 C12,14.2238576 11.7761424,14 11.5,14 L6.5,14 Z M9.5,16 C9.22385763,16 9,16.2238576 9,16.5 C9,16.7761424 9.22385763,17 9.5,17 L11.5,17 C11.7761424,17 12,16.7761424 12,16.5 C12,16.2238576 11.7761424,16 11.5,16 L9.5,16 Z"
													fill="#000000" opacity="0.3" />
													</svg>
												</span>
												<!--end::Svg Icon-->
												Comment
									</button>
										</a>

										<a href="#"
									class="btn btn-sm btn-light btn-color-muted btn-active-light-danger px-4 py-2">
											<!--begin::Svg Icon | path: icons/duotone/General/Heart.svg-->
									<span class="svg-icon svg-icon-2">
												<svg xmlns="http://www.w3.org/2000/svg"
											xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
											viewBox="0 0 24 24" version="1.1">
													<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
														<polygon points="0 0 24 0 24 24 0 24" />
														<path
													d="M16.5,4.5 C14.8905,4.5 13.00825,6.32463215 12,7.5 C10.99175,6.32463215 9.1095,4.5 7.5,4.5 C4.651,4.5 3,6.72217984 3,9.55040872 C3,12.6834696 6,16 12,19.5 C18,16 21,12.75 21,9.75 C21,6.92177112 19.349,4.5 16.5,4.5 Z"
													fill="#000000" fill-rule="nonzero" />
													</g>
												</svg>
											</span>
											<!--end::Svg Icon-->
											Like
								</a>
									</div>
									<!--end::Toolbar-->
						</div>
								<!--end::Post-->
								<!--begin::Separator-->
						<div class="separator mb-4"></div>
								<!--end::Separator-->
					</div>
							<!--end::Body-->
				</div>
					}
				}
				<!--end::Feeds Widget 5-->
			</div>
			<!--end::Col-->
		</div>
		<!--end::Row-->
	</div>
	<!--end::Post-->
</div>
<!--end::Container-->